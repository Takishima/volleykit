const R=(function(){const a=typeof document<"u"&&document.createElement("link").relList;return a&&a.supports&&a.supports("modulepreload")?"modulepreload":"preload"})(),_=function(n){return"/volleykit/pr-910/help/"+n},w={},D=function(a,c,o){let p=Promise.resolve();if(c&&c.length>0){let b=function(s){return Promise.all(s.map(h=>Promise.resolve(h).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var E=b;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),r=d?.nonce||d?.getAttribute("nonce");p=b(c.map(s=>{if(s=_(s),s in w)return;w[s]=!0;const h=s.endsWith(".css"),y=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${y}`))return;const t=document.createElement("link");if(t.rel=h?"stylesheet":R,h||(t.as="script"),t.crossOrigin="",t.href=s,r&&t.setAttribute("nonce",r),document.head.appendChild(t),h)return new Promise((g,l)=>{t.addEventListener("load",g),t.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${s}`)))})}))}function f(d){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=d,window.dispatchEvent(r),!r.defaultPrevented)throw d}return p.then(d=>{for(const r of d||[])r.status==="rejected"&&f(r.reason);return a().catch(f)})};let v=null;function M(n){const a=document.createElement("div");return a.textContent=n,a.innerHTML.replace(/&lt;mark&gt;/g,"<mark>").replace(/&lt;\/mark&gt;/g,"</mark>")}function N(n,a){const c=document.createElement("li");c.setAttribute("role","option"),c.className="rounded-lg border border-transparent";const o=document.createElement("a");o.href=n.url,o.className="block rounded-lg p-3 transition-colors hover:bg-surface-subtle dark:hover:bg-surface-subtle-dark",o.setAttribute("data-search-result",String(a));const p=document.createElement("div");p.className="font-medium text-text-primary dark:text-text-primary-dark",p.textContent=n.meta?.title||"Untitled";const f=document.createElement("div");return f.className="mt-1 text-sm text-text-secondary line-clamp-2 dark:text-text-secondary-dark",f.innerHTML=M(n.excerpt||""),o.appendChild(p),o.appendChild(f),c.appendChild(o),c}async function q(n){if(v)return v;try{return v=await D(()=>import(`${n}/_pagefind/pagefind.js`),[]),await v.init(),v}catch(a){return console.warn("Pagefind not available:",a),null}}function x(){const n=document.querySelector("[data-search-modal]"),a=document.querySelector("[data-search-backdrop]"),c=document.querySelector("[data-search-close]"),o=document.querySelector("[data-search-input]"),p=document.querySelector("[data-search-results]"),f=document.querySelector("[data-search-initial]"),E=document.querySelector("[data-search-loading]"),d=document.querySelector("[data-search-empty]"),r=document.querySelector("[data-search-list]"),b=document.querySelector("[data-search-unavailable]");if(!n||!o||!p)return;const s=n.getAttribute("data-base-path")||"/volleykit/help",h=parseInt(n.getAttribute("data-debounce-ms")||"200",10),y=parseInt(n.getAttribute("data-max-results")||"10",10);let t=-1,g=[];function l(e){f?.classList.toggle("hidden",e!=="initial"),E?.classList.toggle("hidden",e!=="loading"),d?.classList.toggle("hidden",e!=="empty"),r?.classList.toggle("hidden",e!=="results"),b?.classList.toggle("hidden",e!=="unavailable")}function P(){n.classList.remove("hidden"),document.body.style.overflow="hidden",o.focus(),q(s).then(e=>{e||l("unavailable")})}function k(){n.classList.add("hidden"),document.body.style.overflow="",o.value="",l("initial"),t=-1,g=[]}function A(e){if(r){if(g=e,t=-1,g.length===0){l("empty");return}l("results"),r.replaceChildren(),g.forEach((u,i)=>{const m=N(u,i);r.appendChild(m)})}}function L(){const e=r?.querySelectorAll("[data-search-result]");e?.forEach((u,i)=>{const m=u.parentElement;m&&(m.classList.toggle("border-primary-500",i===t),m.classList.toggle("dark:border-primary-400",i===t),m.classList.toggle("bg-surface-subtle",i===t),m.classList.toggle("dark:bg-surface-subtle-dark",i===t))}),t>=0&&e?.[t]&&e[t].scrollIntoView({block:"nearest"})}document.addEventListener("open-search",P),a?.addEventListener("click",k),c?.addEventListener("click",k),document.addEventListener("keydown",e=>{e.key==="Escape"&&!n.classList.contains("hidden")&&k()});let S;o.addEventListener("input",async()=>{const e=o.value.trim();if(clearTimeout(S),!e){l("initial");return}l("loading"),S=setTimeout(async()=>{const u=await q(s);if(!u){l("unavailable");return}try{const i=await u.search(e),m=await Promise.all(i.results.slice(0,y).map(C=>C.data()));A(m)}catch(i){console.error("Search error:",i),l("empty")}},h)}),o.addEventListener("keydown",e=>{if(e.key==="ArrowDown")e.preventDefault(),t<g.length-1&&(t++,L());else if(e.key==="ArrowUp")e.preventDefault(),t>0&&(t--,L());else if(e.key==="Enter"&&t>=0){e.preventDefault();const u=r?.querySelector(`[data-search-result="${t}"]`);u&&(k(),window.location.href=u.href)}})}x();document.addEventListener("astro:after-swap",x);
