const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-pdf-form-filler-oeqa8g-L.js","assets/index-CTdnxiCp.js","assets/chunk-state-CZJejFfH.js","assets/chunk-router-CqUdIx6-.js","assets/chunk-validation-Cdg1t4SS.js","assets/index-CX2Uz5nv.css","assets/chunk-PdfLanguageModal-JE21ChcD.js","assets/chunk-ModalErrorBoundary-onFUT_nF.js","assets/chunk-EditCompensationModal-SZcJtDSu.js","assets/chunk-useCompensations-Ci955GWz.js","assets/chunk-ValidateGameModal-DZF0BVDw.js","assets/chunk-ExchangePage-QYqDPoGA.js","assets/chunk-ojp-client-CGeVHMR1.js","assets/chunk-useTravelTime-CWWD6NEV.js","assets/chunk-useDebouncedValue-BYnsA5Tx.js","assets/chunk-LoginPage-Q96AFcKB.js","assets/chunk-calendar-helpers-BdKq3Efh.js","assets/chunk-cropper-l1UCu5Q8.js","assets/chunk-assignments-DBz14qIH.js","assets/chunk-SafeModeWarningModal-wj7P3338.js"])))=>i.map(i=>d[i]);
import{z as ne,am as Z,c as Be,u as w,an as Pe,ao as ve,a3 as be,e as L,o as J,p as Ue,ap as Q,aq as X,D as Ke,I as pt,ar as xt,q,as as Ne,at as re,au as De,a7 as ft,a9 as ht,av as yt,aw as He,ax as bt,A as $e,ay as kt,az as Ee,aA as ke,aB as Ce,aC as We,aD as qe,aE as Ct,aF as St,aG as vt,aH as At,aI as Tt,h as Ve,aJ as Nt,ad as Dt,aK as Et,J as U,_ as ge,r as jt,aL as je,aM as xe,aN as _t,aO as wt,aP as pe,aQ as Mt,K as Lt,O as _e,Q as Rt,R as It,P as Gt}from"./index-CTdnxiCp.js";import{j as t,a as i,b as ee,u as Ot}from"./chunk-state-CZJejFfH.js";import{T as Ft}from"./chunk-assignments-DBz14qIH.js";import{p as Bt,L as Pt,b as Ut,e as Kt,u as Ht,a as $t,R as Wt,f as we,M as oe,c as qt}from"./chunk-ExchangePage-QYqDPoGA.js";import{u as ze}from"./chunk-ojp-client-CGeVHMR1.js";import{M as Vt,F as zt,g as Yt,E as Qt,D as Xt,i as Zt,f as Jt,u as fe,h as Ye,c as ea,j as ta,C as aa,k as na,P as sa,W as ra,S as he}from"./chunk-ModalErrorBoundary-onFUT_nF.js";import{M as Qe,N as oa,T as Xe,B as ia,u as ca}from"./chunk-useTravelTime-CWWD6NEV.js";import{F as la,a as da}from"./chunk-PdfLanguageModal-JE21ChcD.js";import{C as ma}from"./chunk-SafeModeWarningModal-wj7P3338.js";import"./chunk-pdf-form-filler-oeqa8g-L.js";import{m as ua}from"./chunk-calendar-helpers-BdKq3Efh.js";function ga(e,a){const n=ne(e,a?.in).getDay();return n===0||n===6}function Me(e,a,n){return Z(e,a*7,n)}function pa(e,a,n){const s=+ne(e,n?.in),[r,o]=[+ne(a.start,n?.in),+ne(a.end,n?.in)].sort((m,c)=>m-c);return s>=r&&s<=o}function Ze(e,a,n){const s=ne(e,n?.in);return s.setHours(a),s}const xa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fa=Be("circle-alert",xa);const ha=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ya=Be("external-link",ha),ba=[{city:"Däniken",hallKeywords:["Erlimatt"],conditional:!0},{city:"Guntershausen",hallKeywords:["Turnhalle"],conditional:!1},{city:"Laufen",hallKeywords:["Gymnasium"],conditional:!0},{city:"Liesberg",hallKeywords:["Seemättli","MZH"],conditional:!1},{city:"Luzern",hallKeywords:["Bahnhofhalle"],conditional:!0},{city:"Olten",hallKeywords:["Giroud","Olma"],conditional:!0},{city:"Ruswil",hallKeywords:["Dorfhalle"],conditional:!1},{city:"Thônex",hallKeywords:["Sous-Moulin"],conditional:!0}],ka=["NLA","NLB"],Ca={de:"/documents/single-ball-halls-de.pdf",en:"/documents/single-ball-halls-de.pdf",fr:"/documents/single-ball-halls-fr.pdf",it:"/documents/single-ball-halls-de.pdf"};function ue(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}function Sa(e,a){return ue(e)===ue(a)}function va(e,a){const n=ue(e);return a.some(s=>n.includes(ue(s)))}function Aa(e){if(!e)return!1;const a=e.toUpperCase().trim();return ka.some(n=>a===n)}function Ta(e){const a=e.refereeGame?.game;if(!a)return null;const n=a.group?.phase?.league?.leagueCategory?.name;if(!Aa(n))return null;const s=a.hall?.primaryPostalAddress?.city,r=a.hall?.name;if(!s||!r)return null;for(const o of ba)if(Sa(s,o.city)&&va(r,o.hallKeywords))return{hall:o,isConditional:o.conditional};return null}function Na(e){const a="/volleykit/",n=Ca[e];return`${a}${n.slice(1)}`}function Da(){const{t:e}=w();return a=>{const{type:n,hours:s,minutes:r}=Bt(a),o=e(n==="overlap"?"assignments.conflictOverlap":"assignments.conflictGap");return s>0&&r>0?`${s}h ${r}min ${o}`:s>0?`${s}h ${o}`:`${r}min ${o}`}}function Ea({conflicts:e}){const{t:a}=w();return e.length===0?null:t.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 flex-shrink-0",title:a("assignments.conflictWarningTooltip"),"aria-label":a("assignments.conflictWarningTooltip"),children:t.jsx(Pe,{className:"w-3 h-3","aria-hidden":"true"})})}function ja({conflict:e}){const{t:a}=w(),n=Da(),{timeLabel:s}=ve(e.conflictingAssignment.startTime),{conflictingAssignment:r}=e,o=r.association?`(${r.association})`:"";return t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsxs("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:[r.homeTeam," - ",r.awayTeam]}),t.jsxs("span",{className:"text-xs text-text-muted dark:text-text-muted-dark",children:[s," ",o&&t.jsx("span",{className:"font-medium",children:o})," · ",n(e.gapMinutes)]}),r.hallName&&t.jsxs("span",{className:"text-xs text-text-subtle dark:text-text-subtle-dark",children:[a("assignments.hall"),": ",r.hallName]})]})}function _a({conflicts:e}){const{t:a}=w();return e.length===0?null:t.jsxs("div",{className:"flex items-start gap-2 py-1.5 px-2 bg-red-50 dark:bg-red-950/30 rounded-md border border-red-200 dark:border-red-800/50",children:[t.jsx(Pe,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5","aria-hidden":"true"}),t.jsxs("div",{className:"flex flex-col gap-1.5 min-w-0",children:[t.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:a("assignments.conflictWarningTitle")}),e.map(n=>t.jsx(ja,{conflict:n},n.conflictingAssignmentId))]})]})}function Y(e){return e?.indoorAssociationReferee?.indoorReferee?.person?.displayName}const Se=i.createContext(null);function H(){const e=i.useContext(Se);if(!e)throw new Error("useAssignmentCardContext must be used within an AssignmentCard");return e}function Je(){const{t:e}=w(),{city:a,game:n,singleBallMatch:s,conflicts:r,expandArrow:o}=H(),m=n?.group?.phase?.league?.leagueCategory?.name;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex flex-col items-end w-24",children:[t.jsxs("span",{className:"text-xs text-text-muted dark:text-text-muted-dark truncate w-full text-right flex items-center justify-end gap-1",children:[a||"",t.jsx(Ea,{conflicts:r}),s&&t.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300 text-[10px] font-bold flex-shrink-0",title:e("assignments.singleBallHallTooltip"),"aria-label":e("assignments.singleBallHallTooltip"),children:"1"})]}),m&&t.jsx("span",{className:"text-xs text-text-subtle dark:text-text-subtle-dark truncate w-full text-right",children:m})]}),o]})}function et(){const{dateLabel:e,timeLabel:a,isToday:n}=H();return t.jsxs("div",{className:"flex flex-col items-end w-14 shrink-0",children:[t.jsx("span",{className:`text-xs font-medium ${n?"text-primary-600 dark:text-primary-400":"text-text-muted dark:text-text-muted-dark"}`,children:e}),t.jsx("span",{className:"text-lg font-bold text-text-primary dark:text-text-primary-dark",children:a})]})}function wa(){const{conflicts:e}=H();return t.jsx(_a,{conflicts:e})}function tt(){const{t:e}=w(),{game:a}=H(),n=a?.number,s=a?.group?.phase?.league?.leagueCategory?.name,r=a?.group?.phase?.league?.gender;return t.jsxs(t.Fragment,{children:[n&&t.jsxs("div",{className:"text-xs text-text-subtle dark:text-text-subtle-dark",children:["#",n]}),s&&t.jsxs("div",{className:"text-xs text-text-subtle dark:text-text-subtle-dark",children:[s,r&&` • ${e(r==="m"?"common.men":"common.women")}`]})]})}function at(){const{t:e,tInterpolate:a}=w(),{hallName:n,fullAddress:s,addressMapsUrl:r,googleMapsUrl:o,showSbbButton:m,isSbbLoading:c,openSbbConnection:f}=H();return t.jsxs("div",{className:"flex items-start gap-2 text-sm text-text-muted dark:text-text-muted-dark pt-2",children:[t.jsx(Qe,{className:"w-4 h-4 flex-shrink-0 mt-0.5","aria-hidden":"true"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-text-primary dark:text-text-primary-dark",children:n}),s&&(r?t.jsx("a",{href:r,className:"text-primary-600 dark:text-primary-400 hover:underline focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded block",onClick:l=>l.stopPropagation(),"aria-label":a("assignments.openAddressInMaps",{address:s}),children:s}):t.jsx("span",{children:s}))]}),t.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[o&&t.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 hover:bg-primary-200 dark:hover:bg-primary-800/40 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-lg transition-colors",onClick:l=>l.stopPropagation(),title:e("assignments.openInGoogleMaps"),"aria-label":e("assignments.openInGoogleMaps"),children:t.jsx(oa,{className:"w-5 h-5","aria-hidden":"true"})}),m&&t.jsx("button",{type:"button",className:"p-2 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 hover:bg-primary-200 dark:hover:bg-primary-800/40 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-lg transition-colors disabled:opacity-50",onClick:l=>{l.stopPropagation(),f()},disabled:c,title:e("assignments.openSbbConnection"),"aria-label":e("assignments.openSbbConnection"),children:c?t.jsx(Pt,{className:"w-5 h-5 animate-spin","aria-hidden":"true"}):t.jsx(Xe,{className:"w-5 h-5","aria-hidden":"true"})})]})]})}function nt(){const{t:e}=w(),{headReferee1:a,headReferee2:n,linesmen:s}=H();return a||n||s.length>0?t.jsxs("div",{className:"text-xs text-text-subtle dark:text-text-subtle-dark pt-1 space-y-0.5",children:[a&&t.jsxs("div",{children:[t.jsxs("span",{className:"font-medium",children:[e("positions.head-one"),":"]})," ",a]}),n&&t.jsxs("div",{children:[t.jsxs("span",{className:"font-medium",children:[e("positions.head-two"),":"]})," ",n]}),s.length>0&&t.jsxs("div",{children:[t.jsxs("span",{className:"font-medium",children:[e("occupations.linesmen"),":"]})," ",s.join(", ")]})]}):null}function st(){const{t:e}=w(),{singleBallMatch:a,singleBallPdfPath:n}=H();return a?t.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-amber-700 dark:text-amber-300 bg-amber-50 dark:bg-amber-900/20 px-2 py-1.5 rounded-md hover:bg-amber-100 dark:hover:bg-amber-900/30 transition-colors group",onClick:s=>s.stopPropagation(),children:[t.jsx(fa,{className:"w-4 h-4 flex-shrink-0","aria-hidden":"true"}),t.jsx("span",{className:"underline decoration-amber-400/50 group-hover:decoration-amber-500 underline-offset-2",children:a.isConditional?e("assignments.singleBallHallConditional"):e("assignments.singleBallHall")}),t.jsx(ya,{className:"w-3 h-3 flex-shrink-0 opacity-60 group-hover:opacity-100","aria-hidden":"true"})]}):null}function rt(){const{t:e}=w(),{status:a}=H(),n={active:{label:e("assignments.confirmed"),variant:"success"},cancelled:{label:e("assignments.cancelled"),variant:"danger"},archived:{label:e("assignments.archived"),variant:"neutral"}};return t.jsx("div",{className:"flex items-center gap-2 text-sm pt-1",children:t.jsx(ia,{variant:n[a]?.variant||"success",className:"rounded-full",children:n[a]?.label||e("assignments.active")})})}function ot(){return t.jsxs("div",{className:"px-2 pb-2 pt-0 border-t border-border-subtle dark:border-border-subtle-dark space-y-1",children:[t.jsx(at,{}),t.jsx(wa,{}),t.jsx(st,{}),t.jsx(rt,{}),t.jsx(tt,{}),t.jsx(nt,{})]})}function it(){const{t:e}=w(),{homeTeam:a,awayTeam:n,position:s,gender:r}=H();return t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-text-primary dark:text-text-primary-dark truncate",children:a}),t.jsxs("div",{className:"text-sm text-text-secondary dark:text-text-muted-dark truncate",children:[e("common.vs")," ",n]}),t.jsxs("div",{className:"text-xs text-text-subtle dark:text-text-subtle-dark flex items-center gap-1",children:[t.jsx("span",{children:s}),r==="m"&&t.jsx(Vt,{className:"w-3 h-3 text-blue-500 dark:text-blue-400","aria-label":e("common.men")}),r==="f"&&t.jsx(zt,{className:"w-3 h-3 text-pink-500 dark:text-pink-400","aria-label":e("common.women")})]})]})}function ct(){return t.jsxs(t.Fragment,{children:[t.jsx(et,{}),t.jsx(it,{}),t.jsx(Je,{})]})}function Ma({assignment:e,onClick:a,disableExpansion:n,dataTour:s}){const{t:r,locale:o}=w(),m=ze(),c=e.refereeGame?.game,{dateLabel:f,timeLabel:l,isToday:p,isPast:y}=ve(c?.startingDateTime),S=c?.encounter?.teamHome?.name||r("common.tbd"),x=c?.encounter?.teamAway?.name||r("common.tbd"),A=c?.hall?.name||r("common.locationTbd"),b=c?.hall?.primaryPostalAddress,E=b?.city,{googleMapsUrl:R,nativeMapsUrl:u,fullAddress:C}=Ut(b,A),N=e.refereeConvocationStatus,D=Yt(e.refereePosition,r,r("occupations.referee")),G=c?.group?.phase?.league?.gender,g=e.refereeGame,j=Y(g?.activeRefereeConvocationFirstHeadReferee),_=Y(g?.activeRefereeConvocationSecondHeadReferee),d=Y(g?.activeRefereeConvocationFirstLinesman),F=Y(g?.activeRefereeConvocationSecondLinesman),$=Y(g?.activeRefereeConvocationThirdLinesman),W=Y(g?.activeRefereeConvocationFourthLinesman),z=i.useMemo(()=>[d,F,$,W].filter(Boolean),[d,F,$,W]),P=be(Te=>Te.isTransportEnabledForAssociation(m)),te=c?.hall?.primaryPostalAddress?.geographicalLocation,V=Kt(te),ae=c?.hall?.__identity,se=c?.startingDateTime,{isLoading:h,openSbbConnection:k}=Ht({hallCoords:V,hallId:ae,city:E,hallAddress:C,gameStartTime:se,language:o}),T=!!(P&&E&&se),v=Ta(e),M=Na(o),O=c?.__identity,{conflicts:B}=$t(O),Ae=i.useMemo(()=>({assignment:e,game:c,dateLabel:f,timeLabel:l,isToday:p,isPast:y,homeTeam:S,awayTeam:x,hallName:A,city:E,fullAddress:C,googleMapsUrl:R,addressMapsUrl:u,status:N,position:D,gender:G,headReferee1:j,headReferee2:_,linesmen:z,showSbbButton:T,isSbbLoading:h,openSbbConnection:k,singleBallMatch:v,singleBallPdfPath:M,conflicts:B}),[e,c,f,l,p,y,S,x,A,E,C,R,u,N,D,G,j,_,z,T,h,k,v,M,B]);return t.jsx(Qt,{data:e,onClick:a,disableExpansion:n,dataTour:s,className:y?"opacity-75":"",renderCompact:(Te,{expandArrow:gt})=>t.jsx(Se.Provider,{value:{...Ae,expandArrow:gt},children:t.jsx(ct,{})}),renderDetails:()=>t.jsx(Se.Provider,{value:{...Ae,expandArrow:null},children:t.jsx(ot,{})})})}const La=i.memo(Ma),I=La;I.DateTime=et;I.Teams=it;I.CityInfo=Je;I.Header=ct;I.Location=at;I.SingleBallNotice=st;I.Status=rt;I.GameInfo=tt;I.Referees=nt;I.Details=ot;const Ra=2,Le=e=>pt(e,"yyyy-MM-dd"),Ia=[];function Ga(e=Ra){const a=L(x=>x.dataSource),n=a==="demo",s=L(x=>x.activeOccupationId),r=J(x=>x.activeAssociationCode),o=Ue(a),m=n?r:s,c=Le(new Date),f=Le(Me(new Date,e)),l=i.useMemo(()=>({from:X(new Date).toISOString(),to:Q(Me(new Date,e)).toISOString()}),[c,f,e]),p=i.useMemo(()=>[{propertyName:"date",dateRange:l}],[l]),y=i.useMemo(()=>({offset:0,limit:Ke,propertyFilters:p,propertyOrderings:[{propertyName:"date",descending:!1,isSetByUser:!0}]}),[p]),S=i.useMemo(()=>x=>x.items??Ia,[]);return ee({queryKey:q.refereeBackup.list(y,m),queryFn:()=>o.searchRefereeBackups(y),select:S,staleTime:2*xt,placeholderData:x=>x})}const Oa=2,Fa=16,lt=12;function Ba(e){return ga(e)?lt:Fa}function Pa(e){const a=new Date(e),n=Ba(a);return Ze(a,n).toISOString()}function Re(e,a){const n=e.indoorReferee?.person;return(n?.__identity??n?.persistenceObjectIdentifier)===a}function Ua(e,a){const n=[];for(const s of e){const r=Pa(s.date);for(const o of s.nlaReferees??[])Re(o,a)&&n.push({id:`${s.__identity}-NLA`,date:r,weekday:s.weekday,calendarWeek:s.calendarWeek,league:"NLA",backupEntry:s,assignment:o});for(const o of s.nlbReferees??[])Re(o,a)&&n.push({id:`${s.__identity}-NLB`,date:r,weekday:s.weekday,calendarWeek:s.calendarWeek,league:"NLB",backupEntry:s,assignment:o})}return n.sort((s,r)=>new Date(s.date).getTime()-new Date(r.date).getTime())}const Ie=["So","Mo","Di","Mi","Do","Fr","Sa"],Ka=6,ie=7;function Ha(){const e=new Date,a=[],n=(Ka-e.getDay()+ie)%ie||ie,s=Ze(Z(e,n),lt),r={__identity:re("demo-backup-nla"),date:s.toISOString(),weekday:Ie[s.getDay()],calendarWeek:De(s),nlaReferees:[{__identity:re("demo-backup-assignment-nla"),indoorReferee:{person:{__identity:Ne,firstName:"Demo",lastName:"User",displayName:"Demo User"}},isDispensed:!1,hasResigned:!1,unconfirmedFutureRefereeConvocations:!1}]};a.push({id:`${r.__identity}-NLA`,date:r.date,weekday:r.weekday,calendarWeek:r.calendarWeek,league:"NLA",backupEntry:r,assignment:r.nlaReferees[0]});const o=Z(s,ie),m={__identity:re("demo-backup-nlb"),date:o.toISOString(),weekday:Ie[o.getDay()],calendarWeek:De(o),nlbReferees:[{__identity:re("demo-backup-assignment-nlb"),indoorReferee:{person:{__identity:Ne,firstName:"Demo",lastName:"User",displayName:"Demo User"}},isDispensed:!1,hasResigned:!1,unconfirmedFutureRefereeConvocations:!1}]};return a.push({id:`${m.__identity}-NLB`,date:m.date,weekday:m.weekday,calendarWeek:m.calendarWeek,league:"NLB",backupEntry:m,assignment:m.nlbReferees[0]}),a}function $a(e=Oa){const a=L(c=>c.user?.id),n=L(c=>c.dataSource),s=n==="demo",{data:r,...o}=Ga(e),m=i.useMemo(()=>s?Ha():n==="calendar"||!a||!r?[]:Ua(r,a),[s,n,a,r]);return{...o,data:m}}function Wa({assignment:e}){const{t:a}=w(),{dateLabel:n,timeLabel:s,isToday:r}=ve(e.date),o=`${a("onCall.duty")} ${e.league} - ${n}`;return t.jsx(ft,{className:"bg-amber-50 dark:bg-amber-950/30 border-amber-200 dark:border-amber-800/50","aria-label":o,children:t.jsx(ht,{className:"p-0",children:t.jsx("div",{className:"px-2 py-2",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex flex-col items-end w-14 shrink-0",children:[t.jsx("span",{className:`text-xs font-medium ${r?"text-amber-700 dark:text-amber-300":"text-amber-600 dark:text-amber-400"}`,children:n}),t.jsx("span",{className:"text-lg font-bold text-amber-900 dark:text-amber-100",children:s})]}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-100",children:a("onCall.duty")})}),t.jsx("div",{className:`flex-shrink-0 px-2 py-1 text-xs font-semibold rounded ${e.league==="NLA"?"bg-amber-200 dark:bg-amber-800 text-amber-900 dark:text-amber-100":"bg-amber-100 dark:bg-amber-900/70 text-amber-800 dark:text-amber-200"}`,children:e.league})]})})})})}const qa=i.memo(Wa);function Va(){const a=L(s=>s.dataSource)==="demo",n=L(s=>s.activeOccupationId);return ee({queryKey:q.settings.association(n),queryFn:()=>He.getAssociationSettings(),staleTime:yt,enabled:!a})}function za(){const a=L(s=>s.dataSource)==="demo",n=L(s=>s.activeOccupationId);return ee({queryKey:q.seasons.active(n),queryFn:()=>He.getActiveSeason(),staleTime:bt,enabled:!a})}const Ge=[];function Ya(){const e=L(s=>s.dataSource),a=L(s=>s.calendarCode),n=e==="calendar";return ee({queryKey:q.calendar.assignmentsByCode(a??""),queryFn:({signal:s})=>a?kt(a,s):Promise.resolve(Ge),enabled:n&&!!a,staleTime:$e,placeholderData:Ge})}const Qa=[];function dt(e,a){const n=new Date;switch(e){case"upcoming":return{from:X(n).toISOString(),to:Q(Z(n,Ce)).toISOString()};case"past":return{from:X(ke(n,Ce)).toISOString(),to:Q(ke(n,1)).toISOString()};case"thisWeek":return{from:X(n).toISOString(),to:Q(Z(n,vt)).toISOString()};case"nextMonth":return{from:X(n).toISOString(),to:Q(Z(n,St)).toISOString()};case"custom":return dt("upcoming")}}function Oe(e,a){return e.filter(n=>Zt(n.refereeGame?.game?.startingDateTime,a))}function Xa(e="upcoming",a){const n=L(b=>b.dataSource),s=n==="demo",r=L(b=>b.activeOccupationId),o=J(b=>b.assignments),m=J(b=>b.activeAssociationCode),c=Ue(n),f=s?m:r,l=dt(e),{fromDate:p,toDate:y}=i.useMemo(()=>({fromDate:l.from,toDate:l.to}),[l.from,l.to]),S=i.useMemo(()=>({offset:0,limit:Ke,propertyFilters:[{propertyName:"refereeGame.game.startingDateTime",dateRange:{from:p,to:y}}],propertyOrderings:[{propertyName:"refereeGame.game.startingDateTime",descending:e==="past",isSetByUser:!0}]}),[p,y,e]),x=i.useMemo(()=>{if(!s)return[];const b=Array.isArray(o)?o:[],E=new Date(p),R=new Date(y),u=b.filter(C=>{const N=Ct(C);if(N===0)return!1;const D=new Date(N);return D>=E&&D<=R});return We(u,e==="past")},[s,o,p,y,e]),A=ee({queryKey:q.assignments.list(S,f),queryFn:()=>c.searchAssignments(S),select:b=>b.items??Qa,staleTime:$e,enabled:!s});return s?qe(A,x):A}function Za(){return Xa("upcoming")}function Ja(){const a=L(g=>g.dataSource)==="demo",n=L(g=>g.activeOccupationId),s=J(g=>g.assignments),r=J(g=>g.activeAssociationCode),o=a?r:n,{data:m,isSuccess:c,isError:f}=Va(),{data:l,isSuccess:p,isError:y}=za(),{fromDate:S,toDate:x}=i.useMemo(()=>{const g=new Date,j=Ee(l?.seasonStartDate,ke(g,Ce)),_=Ee(l?.seasonEndDate,g);return{fromDate:X(j).toISOString(),toDate:Q(g<_?g:_).toISOString()}},[l?.seasonStartDate,l?.seasonEndDate]),A=m?.hoursAfterGameStartForRefereeToEditGameList??Xt,b=i.useMemo(()=>({propertyFilters:[{propertyName:"refereeGame.game.startingDateTime",dateRange:{from:S,to:x}}],propertyOrderings:[{propertyName:"refereeGame.game.startingDateTime",descending:!0,isSetByUser:!0}]}),[S,x]),E=c||f,R=p||y,u=c?m!==void 0:!0,C=p?l?.seasonStartDate!==void 0:!0,N=!a&&E&&R&&u&&C,D=ee({queryKey:q.assignments.validationClosed(S,x,A,o),queryFn:async({signal:g})=>{const j=await Tt(b,g);return Oe(j,A)},staleTime:At,enabled:N}),G=i.useMemo(()=>{if(!a)return[];const j=(Array.isArray(s)?s:[]).filter(d=>{const F=d.refereeGame?.game?.startingDateTime;if(!F)return!1;const $=new Date(F);return pa($,{start:new Date(S),end:new Date(x)})}),_=Oe(j,A);return We(_,!0)},[a,s,S,x,A]);return a?qe(D,G):D}const ce=[10,25,50,75,100],le=[30,45,60,90,120],de=[60,90,120,150,180];function en({dataTour:e}){const{t:a}=w(),[n,s]=i.useState(!1),r=ca(),o=ze(),{homeLocation:m,distanceFilter:c,distanceFilterByAssociation:f,setDistanceFilterForAssociation:l,travelTimeFilter:p,setMaxTravelTimeForAssociation:y,gameGapFilter:S,setMinGameGapMinutes:x}=be(Ve(d=>({homeLocation:d.homeLocation,distanceFilter:d.distanceFilter,distanceFilterByAssociation:d.distanceFilterByAssociation,setDistanceFilterForAssociation:d.setDistanceFilterForAssociation,travelTimeFilter:d.travelTimeFilter,setMaxTravelTimeForAssociation:d.setMaxTravelTimeForAssociation,gameGapFilter:d.gameGapFilter,setMinGameGapMinutes:d.setMinGameGapMinutes}))),A=be(d=>d.isTransportEnabledForAssociation),b=i.useMemo(()=>{const d=f??{};return o&&d[o]!==void 0?d[o]:c},[o,f,c]),E=i.useMemo(()=>{const d=p.maxTravelTimeByAssociation??{};return o&&d[o]!==void 0?d[o]:p.maxTravelTimeMinutes},[o,p]),R=i.useCallback(d=>{o&&l(o,{maxDistanceKm:Number(d.target.value)})},[o,l]),u=i.useCallback(d=>{o&&y(o,Number(d.target.value))},[o,y]),C=i.useCallback(d=>{x(Number(d.target.value))},[x]),N=!!m,D=N,G=A(o),g=N&&G&&r,j=d=>`${d} ${a("common.distanceUnit")}`,_={minutesUnit:a("common.minutesUnit"),hoursUnit:a("common.hoursUnit")};return t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>s(!0),"data-tour":e,"aria-label":a("exchange.settings.title"),className:`
          inline-flex items-center justify-center p-1.5 rounded-full
          text-text-muted dark:text-text-muted-dark
          hover:bg-surface-subtle dark:hover:bg-surface-subtle-dark
          hover:text-text-primary dark:hover:text-text-primary-dark
          transition-colors cursor-pointer
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-1
        `,children:t.jsx(Nt,{className:"w-5 h-5"})}),t.jsxs(Wt,{isOpen:n,onClose:()=>s(!1),titleId:"exchange-settings-title",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-default dark:border-border-default-dark",children:[t.jsx("h2",{id:"exchange-settings-title",className:"text-lg font-semibold text-text-primary dark:text-text-primary-dark",children:a("exchange.settings.title")}),t.jsx("button",{type:"button",onClick:()=>s(!1),className:"p-2 -m-2 text-text-muted dark:text-text-muted-dark hover:text-text-primary dark:hover:text-text-primary-dark transition-colors","aria-label":a("common.close"),children:t.jsx(Dt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-6 overflow-y-auto",children:[D&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qe,{className:"w-5 h-5 text-text-muted dark:text-text-muted-dark"}),t.jsx("label",{htmlFor:"max-distance",className:"text-sm font-medium text-text-primary dark:text-text-primary-dark",children:a("exchange.settings.maxDistance")}),t.jsx("span",{className:"ml-auto text-sm font-semibold text-primary-600 dark:text-primary-400",children:j(b.maxDistanceKm)})]}),t.jsx("input",{id:"max-distance",type:"range",min:ce[0],max:ce[ce.length-1],step:5,value:b.maxDistanceKm,onChange:R,className:"w-full h-2 bg-surface-muted dark:bg-surface-subtle-dark rounded-lg appearance-none cursor-pointer accent-primary-600"}),t.jsx("div",{className:"flex justify-between text-xs text-text-muted dark:text-text-muted-dark",children:ce.map(d=>t.jsxs("span",{children:[d," km"]},d))})]}),g&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xe,{className:"w-5 h-5 text-text-muted dark:text-text-muted-dark"}),t.jsx("label",{htmlFor:"max-travel-time",className:"text-sm font-medium text-text-primary dark:text-text-primary-dark",children:a("exchange.settings.maxTravelTime")}),t.jsx("span",{className:"ml-auto text-sm font-semibold text-primary-600 dark:text-primary-400",children:we(E,_)})]}),t.jsx("input",{id:"max-travel-time",type:"range",min:le[0],max:le[le.length-1],step:15,value:E,onChange:u,className:"w-full h-2 bg-surface-muted dark:bg-surface-subtle-dark rounded-lg appearance-none cursor-pointer accent-primary-600"}),t.jsx("div",{className:"flex justify-between text-xs text-text-muted dark:text-text-muted-dark",children:le.map(d=>t.jsx("span",{children:d<oe?`${d}m`:`${d/oe}h`},d))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ma,{className:"w-5 h-5 text-text-muted dark:text-text-muted-dark"}),t.jsx("label",{htmlFor:"min-game-gap",className:"text-sm font-medium text-text-primary dark:text-text-primary-dark",children:a("exchange.settings.minGameGap")}),t.jsx("span",{className:"ml-auto text-sm font-semibold text-primary-600 dark:text-primary-400",children:we(S.minGapMinutes,_)})]}),t.jsx("input",{id:"min-game-gap",type:"range",min:de[0],max:de[de.length-1],step:15,value:S.minGapMinutes,onChange:C,className:"w-full h-2 bg-surface-muted dark:bg-surface-subtle-dark rounded-lg appearance-none cursor-pointer accent-primary-600"}),t.jsx("div",{className:"flex justify-between text-xs text-text-muted dark:text-text-muted-dark",children:de.map(d=>t.jsx("span",{children:d<oe?`${d}m`:`${d/oe}h`},d))})]}),t.jsx("p",{className:"text-xs text-text-muted dark:text-text-muted-dark",children:a("exchange.settings.description")})]})]})]})}i.memo(en);const K=jt();function tn(e){return e==="fr"||e==="it"?"fr":"de"}function an(){const{t:e}=w(),a=Ot(),{guard:n,isDemoMode:s}=Jt(),r=Et(u=>u.locale),o=J(u=>u.addAssignmentToExchange),m=qt(),c=fe(),f=fe(),l=fe(),[p,y]=i.useState(!1),S=i.useCallback(u=>{f.open(u)},[f]),x=i.useCallback(u=>{if(!Ye(u)){K.debug("Game report not available for this league"),U.info(e("assignments.gameReportNotAvailable"));return}l.open(u)},[e,l]),A=i.useCallback(()=>{p||l.close()},[p,l]),b=i.useCallback(async u=>{if(l.data){y(!0);try{const{extractSportsHallReportData:C,getLeagueCategoryFromAssignment:N,generateAndDownloadSportsHallReport:D}=await ge(async()=>{const{extractSportsHallReportData:j,getLeagueCategoryFromAssignment:_,generateAndDownloadSportsHallReport:d}=await import("./chunk-pdf-form-filler-oeqa8g-L.js").then(F=>F.p);return{extractSportsHallReportData:j,getLeagueCategoryFromAssignment:_,generateAndDownloadSportsHallReport:d}},__vite__mapDeps([0,1,2,3,4,5])),G=C(l.data),g=N(l.data);if(!G||!g){K.error("Failed to extract report data for:",l.data.__identity),U.error(e("pdf.exportError"));return}await D(G,g,u),K.debug("Generated PDF report for:",l.data.__identity),U.success(e("assignments.reportGenerated")),A()}catch(C){K.error("PDF generation failed:",C),U.error(e("pdf.exportError"))}finally{y(!1)}}},[l.data,A,e]),E=i.useCallback(u=>{x(u)},[x]),R=i.useCallback(u=>{const{homeTeam:C,awayTeam:N}=ea(u);if(ta(u)){K.debug("Cannot add validated game to exchange:",u.__identity),U.error(e("exchange.cannotExchangeValidatedGame"));return}if(!n({context:"useAssignmentActions",action:"adding to exchange"})){if(s){o(u.__identity),a.invalidateQueries({queryKey:q.exchanges.lists()}),a.invalidateQueries({queryKey:q.assignments.lists()}),K.debug("Demo mode: added assignment to exchange:",u.__identity),U.success(e("exchange.addedToExchangeSuccess"));return}K.debug("Adding to exchange:",{assignmentId:u.__identity,game:`${C} vs ${N}`}),m.mutateAsync(u.__identity).then(()=>{K.debug("Successfully added to exchange:",u.__identity),m.wasQueued?U.success(e("exchange.addedToExchangeQueued")):U.success(e("exchange.addedToExchangeSuccess"))}).catch(D=>{K.error("Failed to add to exchange:",D),U.error(e("exchange.addedToExchangeError"))})}},[n,s,o,a,e,m]);return{editCompensationModal:{isOpen:c.isOpen,assignment:c.data,open:c.open,close:c.close},validateGameModal:{isOpen:f.isOpen,assignment:f.data,open:S,close:f.close},pdfReportModal:{isOpen:l.isOpen,assignment:l.data,isLoading:p,defaultLanguage:tn(r),open:x,close:A,onConfirm:b},handleGenerateReport:E,handleAddToExchange:R}}function nn(e){const{selectedAssociation:a,setSelectedAssociation:n,setAssociations:s}=je(),r=i.useMemo(()=>{const l=new Set;for(const p of e)p.association&&l.add(p.association);return Array.from(l).sort()},[e]),o=je(l=>l.associations);i.useEffect(()=>{(r.length!==o.length||r.some((p,y)=>p!==o[y]))&&s(r)},[r,o,s]);const m=r.length>=2,c=i.useMemo(()=>a!==xe&&!r.includes(a)?xe:a,[r,a]),f=i.useCallback(l=>c===xe?l:l.filter(p=>p.association===c),[c]);return{associations:r,selectedAssociation:c,setSelectedAssociation:n,filterByAssociation:f,hasMultipleAssociations:m}}let Fe=null;function mt(){return typeof navigator<"u"&&"setAppBadge"in navigator}async function ut(e,a={}){const{skipIfUnchanged:n=!1}=a;if(n&&Fe===e)return{success:!0};if(!mt())return{success:!1,error:"Badging API not supported in this browser"};try{return e===0?await navigator.clearAppBadge():await navigator.setAppBadge(e),Fe=e,{success:!0}}catch(s){return{success:!1,error:`Failed to set badge: ${s instanceof Error?s.message:"Unknown error"}`}}}async function sn(){return ut(0)}const me={isSupported:mt,setBadge:e=>ut(e),clearBadge:sn};function rn(e){return e.filter(a=>{if(a.refereeConvocationStatus!=="active")return!1;const n=a.refereeGame?.game?.startingDateTime;if(!n)return!1;try{const s=new Date(n);return _t(s)}catch{return!1}}).length}function on(e,a={}){const{enabled:n=!0}=a,s=i.useMemo(()=>rn(e),[e]),r=i.useRef(null),o=me.isSupported();i.useEffect(()=>{if(!n||!o||r.current===s)return;(async()=>(await me.setBadge(s)).success&&(r.current=s))()},[s,n,o]);const m=i.useCallback(async()=>{await me.setBadge(s),r.current=s},[s]),c=i.useCallback(async()=>{await me.clearBadge(),r.current=0},[]);return{todaysGameCount:s,isSupported:o,updateBadge:m,clearBadge:c}}const cn=i.createElement(Mt,{size:pe}),ln=i.createElement(aa,{size:pe}),dn=i.createElement(la,{size:pe}),mn=i.createElement(wt,{size:pe});function un(e,a,n){return{editCompensation:{id:"edit-compensation",label:n("assignments.editCompensation"),shortLabel:n("assignments.editCompensationShort"),color:"bg-primary-500",icon:cn,onAction:()=>a.onEditCompensation(e)},validateGame:{id:"validate-game",label:n("assignments.validateGame"),shortLabel:n("assignments.validateGameShort"),color:e.refereeGame?.game?.scoresheet?.closedAt?"bg-slate-500":"bg-primary-500",icon:ln,onAction:()=>a.onValidateGame(e)},generateReport:{id:"generate-report",label:n("assignments.generateReport"),shortLabel:n("assignments.generateReportShort"),color:"bg-slate-500",icon:dn,onAction:()=>a.onGenerateReport(e)},addToExchange:{id:"add-to-exchange",label:n("assignments.addToExchange"),shortLabel:n("assignments.addToExchangeShort"),color:"bg-primary-500",icon:mn,onAction:()=>a.onAddToExchange(e)}}}function ye(e){return e.type==="onCall"?e.item.date:e.item.refereeGame?.game?.startingDateTime}const gn=i.lazy(()=>ge(()=>import("./chunk-PdfLanguageModal-JE21ChcD.js").then(e=>e.P),__vite__mapDeps([6,2,1,3,4,5,7])).then(e=>({default:e.PdfLanguageModal}))),pn=i.lazy(()=>ge(()=>import("./chunk-EditCompensationModal-SZcJtDSu.js"),__vite__mapDeps([8,2,1,3,4,5,7,9,6])).then(e=>({default:e.EditCompensationModal}))),xn=i.lazy(()=>ge(()=>import("./chunk-ValidateGameModal-DZF0BVDw.js"),__vite__mapDeps([10,2,7,1,3,4,5,11,12,13,0,14,15,16,6,17,18,19])).then(e=>({default:e.ValidateGameModal})));function fn(e,a,n,s){return e&&a==="upcoming"?n?{title:s("assignments.calendarNoUpcomingTitle"),description:s("assignments.calendarNoUpcomingDescription")}:{title:s("assignments.calendarEmptyTitle"),description:s("assignments.calendarEmptyDescription")}:a==="upcoming"?{title:s("assignments.noUpcomingTitle"),description:s("assignments.noUpcomingDescription")}:{title:s("assignments.noClosedTitle"),description:s("assignments.noClosedDescription")}}function hn(){const[e,a]=i.useState("upcoming"),{t:n}=w(),{isAssociationSwitching:s,isCalendarMode:r}=L(Ve(h=>({isAssociationSwitching:h.isAssociationSwitching,isCalendarMode:h.isCalendarMode()}))),{showDummyData:o}=Lt("assignments"),{editCompensationModal:m,validateGameModal:c,pdfReportModal:f,handleGenerateReport:l,handleAddToExchange:p}=an(),{data:y,isLoading:S,error:x,refetch:A}=Za(),{data:b,isLoading:E,error:R,refetch:u}=Ja(),{data:C,isLoading:N,error:D,refetch:G}=Ya(),{filterByAssociation:g}=nn(C??[]),{data:j}=$a();on(r?[]:y??[]);const _=i.useMemo(()=>{if(!r||!C)return[];const h=new Date,k=C.filter(T=>new Date(T.startTime)>=h);return g(k)},[r,C,g]),d=i.useMemo(()=>{if(!r||!C)return[];const h=new Date,k=C.filter(T=>new Date(T.startTime)<h);return g(k)},[r,C,g]),F=i.useMemo(()=>r?e==="upcoming"?_:d:e==="upcoming"?y:b,[r,e,_,d,y,b]),$=i.useMemo(()=>s?!0:r?N:e==="upcoming"?S:E,[s,r,N,e,S,E]),W=i.useMemo(()=>r?D:e==="upcoming"?x:R,[r,D,e,x,R]),z=i.useCallback(()=>r?G():e==="upcoming"?A():u(),[r,e,G,A,u]),P=i.useMemo(()=>o?[Ft]:F,[o,F]),te=i.useMemo(()=>{if(e!=="upcoming"||r||o)return[];const h=[];if(P)for(const k of P)h.push({type:"assignment",item:k});for(const k of j)h.push({type:"onCall",item:k});return h.sort((k,T)=>{const v=ye(k),M=ye(T);return!v||!M?0:new Date(v).getTime()-new Date(M).getTime()})},[e,r,o,P,j]),V=i.useMemo(()=>e==="upcoming"&&!r&&!o?te.length===0?[]:_e(te,ye):!P||P.length===0?[]:_e(P,r&&!o?k=>k.startTime:k=>k.refereeGame?.game?.startingDateTime),[e,r,o,te,P]),ae=i.useCallback(h=>{const k=un(h,{onEditCompensation:m.open,onValidateGame:c.open,onGenerateReport:l,onAddToExchange:p},n),T=Ye(h);if(r)return{left:T?[k.generateReport]:[],right:[]};const v=h.refereeGame?.isGameInFuture==="1",M=na(h),O=da(h),B=M?[k.validateGame]:[];return O&&B.push(k.editCompensation),T&&B.push(k.generateReport),{left:B,right:v?[k.addToExchange]:[]}},[r,m,c,l,p,n]),se=i.useCallback(async()=>{await z()},[z]);return t.jsx(sa,{onRefresh:se,children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{role:"tablist","aria-label":n("assignments.title"),className:"flex gap-2 border-b border-border-default dark:border-border-default-dark",children:[t.jsxs("button",{role:"tab","aria-selected":e==="upcoming","aria-controls":"tabpanel-upcoming",id:"tab-upcoming",onClick:()=>a("upcoming"),className:`
            px-4 py-2 text-sm font-medium border-b-2 transition-colors
            ${e==="upcoming"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-text-muted dark:text-text-muted-dark hover:text-text-secondary dark:hover:text-text-secondary-dark"}
          `,children:[n("assignments.upcoming"),(()=>{const h=(r?_:y)?.length??0,k=r?0:j.length,T=h+k;return T>0?t.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 text-xs",children:T}):null})()]}),t.jsxs("button",{role:"tab","aria-selected":e==="validationClosed","aria-controls":"tabpanel-validationClosed",id:"tab-validationClosed",onClick:()=>a("validationClosed"),className:`
            px-4 py-2 text-sm font-medium border-b-2 transition-colors
            ${e==="validationClosed"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-text-muted dark:text-text-muted-dark hover:text-text-secondary dark:hover:text-text-secondary-dark"}
          `,children:[n(r?"assignments.past":"assignments.validationClosed"),((r?d:b)??[]).length>0&&t.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-surface-subtle dark:bg-surface-card-dark text-text-secondary dark:text-text-muted-dark text-xs",children:(r?d:b)?.length})]})]}),t.jsxs("div",{role:"tabpanel",id:e==="upcoming"?"tabpanel-upcoming":"tabpanel-validationClosed","aria-labelledby":e==="upcoming"?"tab-upcoming":"tab-validationClosed",className:"space-y-3",children:[$&&!o&&t.jsx(Rt,{message:n("assignments.loading")}),W&&t.jsx(It,{message:W instanceof Error?W.message:n("assignments.failedToLoadData"),onRetry:()=>z()}),(!$||o)&&!W&&V.length===0&&t.jsx(Gt,{icon:e==="upcoming"?"calendar":"lock",...fn(r,e,(C?.length??0)>0,n)}),(!$||o)&&!W&&V.length>0&&t.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:V.map((h,k)=>{const T=V.slice(0,k).reduce((v,M)=>v+M.items.length,0);return t.jsxs(i.Fragment,{children:[V.length>1&&t.jsx(ra,{week:h.week}),r&&!o?h.items.map((v,M)=>{const O=ua(v);return t.jsx(he,{swipeConfig:ae(O),children:({isDrawerOpen:B})=>t.jsx(I,{assignment:O,disableExpansion:B,dataTour:T+M===0?"assignment-card":void 0})},v.gameId)}):e==="upcoming"&&!o?h.items.map((v,M)=>{if(v.type==="onCall")return t.jsx(qa,{assignment:v.item},v.item.id);const O=v.item;return t.jsx(he,{swipeConfig:ae(O),children:({isDrawerOpen:B})=>t.jsx(I,{assignment:O,disableExpansion:B,dataTour:T+M===0?"assignment-card":void 0})},O.__identity)}):h.items.map((v,M)=>t.jsx(he,{swipeConfig:ae(v),children:({isDrawerOpen:O})=>t.jsx(I,{assignment:v,disableExpansion:O,dataTour:T+M===0?"assignment-card":void 0})},v.__identity))]},h.week.key)})})]}),m.assignment&&t.jsx(i.Suspense,{fallback:null,children:t.jsx(pn,{assignment:m.assignment,isOpen:m.isOpen,onClose:m.close})}),c.assignment&&t.jsx(i.Suspense,{fallback:null,children:t.jsx(xn,{assignment:c.assignment,isOpen:c.isOpen,onClose:c.close},c.assignment.__identity)}),f.isOpen&&t.jsx(i.Suspense,{fallback:null,children:t.jsx(gn,{isOpen:f.isOpen,onClose:f.close,onConfirm:f.onConfirm,isLoading:f.isLoading,defaultLanguage:f.defaultLanguage})})]})})}const jn=Object.freeze(Object.defineProperty({__proto__:null,AssignmentsPage:hn},Symbol.toStringTag,{value:"Module"}));export{jn as A,fa as C};
