import{a as r,j as e}from"./chunk-state-CZJejFfH.js";import{u as R,l as S,M as _,a as C,b8 as B,b as F,B as k}from"./index-CpUrTfAV.js";import{f as I}from"./chunk-ModalErrorBoundary-BbEVbsJt.js";function P({exchange:a,isOpen:b,onClose:s,onConfirm:l,variant:n}){const{t}=R(),m=r.useRef(!1),[d,c]=r.useState(!1),i=r.useRef(!1);r.useEffect(()=>(i.current=!1,()=>{i.current=!0}),[]);const g=r.useCallback(async()=>{if(!m.current){m.current=!0,c(!0);try{await l()}catch(E){S.error("[ExchangeConfirmationModal] Failed to confirm action:",E),i.current||(m.current=!1,c(!1));return}i.current||(m.current=!1,c(!1),s())}},[l,s]),o=a.refereeGame?.game,p=o?.encounter?.teamHome?.name||t("common.tbd"),y=o?.encounter?.teamAway?.name||t("common.tbd"),x=a.refereePosition,u=a.requiredRefereeLevel,f=o?.hall?.name||o?.hall?.primaryPostalAddress?.city,h=o?.startingDateTime,N=n==="takeOver"?"exchange.takeOverTitle":"exchange.removeTitle",M=n==="takeOver"?"exchange.takeOverConfirm":"exchange.removeConfirm",T=n==="takeOver"?"exchange.takeOverButton":"exchange.removeButton",O=n==="takeOver"?"success":"danger",v=`${n}-exchange-title`;return e.jsx(_,{isOpen:b,onClose:s,titleId:v,size:"md",children:e.jsxs(I,{modalName:"ExchangeConfirmationModal",onClose:s,children:[e.jsx(C,{title:t(N),titleId:v}),e.jsxs("div",{className:"mb-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-text-muted dark:text-text-muted-dark",children:t("common.match")}),e.jsxs("div",{className:"text-base text-text-primary dark:text-text-primary-dark font-medium",children:[p," ",t("common.vs")," ",y]})]}),h&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-text-muted dark:text-text-muted-dark",children:t("common.dateTime")}),e.jsx("div",{className:"text-base text-text-primary dark:text-text-primary-dark",children:B(h)})]}),f&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-text-muted dark:text-text-muted-dark",children:t("common.location")}),e.jsx("div",{className:"text-base text-text-primary dark:text-text-primary-dark",children:f})]}),x&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-text-muted dark:text-text-muted-dark",children:t("common.position")}),e.jsx("div",{className:"text-base text-text-primary dark:text-text-primary-dark",children:x})]}),u&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-text-muted dark:text-text-muted-dark",children:t("common.requiredLevel")}),e.jsx("div",{className:"text-base text-text-primary dark:text-text-primary-dark",children:u})]})]}),e.jsxs("div",{className:"border-t border-border-default dark:border-border-default-dark pt-4",children:[e.jsx("p",{className:"text-sm text-text-muted dark:text-text-muted-dark mb-4",children:t(M)}),e.jsxs(F,{children:[e.jsx(k,{variant:"secondary",className:"flex-1",onClick:s,disabled:d,children:t("common.cancel")}),e.jsx(k,{variant:O,className:"flex-1",onClick:g,disabled:d,"aria-busy":d,children:t(d?"common.loading":T)})]})]})]})})}const j=r.memo(P);function w(a){return e.jsx(j,{...a,variant:"takeOver"})}const A=Object.freeze(Object.defineProperty({__proto__:null,TakeOverExchangeModal:w},Symbol.toStringTag,{value:"Module"}));function z(a){return e.jsx(j,{...a,variant:"remove"})}const D=Object.freeze(Object.defineProperty({__proto__:null,RemoveFromExchangeModal:z},Symbol.toStringTag,{value:"Module"}));export{D as R,A as T};
