<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="theme-color" content="#1e40af" />
    <meta name="description" content="OCR tool for volleyball scoresheets" />

    <!-- iOS PWA meta tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Scanner" />

    <!-- Icons (placeholder SVGs - replace with PNG for production) -->
    <link rel="icon" type="image/svg+xml" href="./pwa-192x192.svg" />
    <link rel="apple-touch-icon" href="./pwa-192x192.svg" />

    <title>Scoresheet Scanner</title>

    <!-- Emscripten/OpenCV.js Module polyfill - MUST run before any modules -->
    <script>
      // Create Module global for Emscripten-compiled WebAssembly (used by PaddleOCR/OpenCV.js)
      window.Module = window.Module || {
        locateFile: function(path, prefix) { return prefix ? prefix + path : path; },
        onRuntimeInitialized: function() { console.log('[Emscripten] Ready'); },
        print: function() { console.log.apply(console, arguments); },
        printErr: function() { console.error.apply(console, arguments); },
        INITIAL_MEMORY: 134217728,
        noInitialRun: true,
        noExitRuntime: true
      };
      window.cv = window.cv || window.Module;
    </script>
  </head>
  <body>
    <div class="app-shell">
      <header class="header">
        <h1 class="header-title">Scoresheet Scanner</h1>
      </header>

      <main id="app" class="main-content">
        <!-- App content will be rendered here -->
      </main>
    </div>

    <script type="module" src="./src/main.js"></script>
  </body>
</html>
